
def upload_file_blob(self, data: str, filename: str, blobFilePath: BlobLocation) -> dict:
    """
    Upload a file to blob and return the path as dict {"storagePath": "..."}
    """
    try:
        # Create full absolute path inside the blob container
        full_blob_path = os.path.join(blobFilePath.absolute_path, filename)

        full_blob_location = BlobLocation(
            container_name=blobFilePath.container_name,
            absolute_path=full_blob_path
        )

        blob_storage_path = self.blobService.save_file(
            file_data=data,
            storage_location=full_blob_location,
            object_type=StorageObjectType.binary.value
        )

        return {"storagePath": blob_storage_path}

    except Exception as e:
        logger.error(f"Failed to upload file to blob: {e}", exc_info=True)
        raise e
