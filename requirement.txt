
import matplotlib.pyplot as plt

# Accuracy data
accuracy = [79, 84, 91]

# X-axis labels
x_labels = [
    "Original QA\n(80K)",
    "Consolidated QA\nPre-CoT Filter\n(200K)",
    "Consolidated QA\nPost-CoT Filter\n(112K)"
]

# Bar colors
colors = ['#0074D9', '#B10DC9', '#2ECC40']  # Blue, Magenta, Green
x = range(len(accuracy))

# Create the figure and axis
fig, ax = plt.subplots(figsize=(10, 6))

# Plot the bars
bars = ax.bar(x, accuracy, color=colors)

# Annotate bars with accuracy values in bold
for bar, acc in zip(bars, accuracy):
    ax.text(
        bar.get_x() + bar.get_width() / 2,
        bar.get_height() + 2,
        f"{acc}%",
        ha='center',
        va='bottom',
        fontsize=14,
        fontweight='bold'
    )

# Add accuracy line chart over the bars
ax.plot(x, accuracy, color='black', linestyle='-', marker='o', linewidth=2)

# Axis labels and title in bold
ax.set_ylabel("Accuracy (%)", fontsize=14, fontweight='bold')
ax.set_xlabel("QA Stages", fontsize=14, fontweight='bold')
ax.set_title("Accuracy Progression Across QA Pipeline with CoT Filtering",
             fontsize=16, fontweight='bold')

# Bold X-axis category labels
ax.set_xticks(x)
ax.set_xticklabels(x_labels, fontsize=12, fontweight='bold')

# Bold Y-axis tick labels
ax.tick_params(axis='y', labelsize=12)
for label in ax.get_yticklabels():
    label.set_fontweight('bold')

# Set Y-axis range and remove gridlines
ax.set_ylim(0, 100)
ax.grid(False)

# Save the figure
plt.tight_layout()
plt.savefig("qa_accuracy_chart_with_line_bold.png", dpi=300, bbox_inches='tight')  # PNG
plt.savefig("qa_accuracy_chart_with_line_bold.pdf", bbox_inches='tight')          # PDF

# Show the chart
plt.show()
