$schema: https://azuremlschemas.azureedge.net/promptflow/latest/Flow.schema.json

entry: llm_as_judge.py:run

environment:
  python_requirements_txt: requirements.txt

inputs:
  rai_model_name:
    type: string
    default: ""

  rai_wrapper_name:
    type: string
    default: ""

  model_kwargs:
    type: dict
    default:
      temperature: 0.0
      max_tokens: 1024

  score_prompt:
    type: string
    default: ""

  file_data:
    type: list
    default: []

outputs:
  response:
    type: string
    reference: ${llm_as_judge.output}

nodes:
  llm_as_judge:
    type: python
    source:
      type: code
      path: llm_as_judge.py
    inputs:
      model_name: ${inputs.rai_model_name}
      wrapper_name: ${inputs.rai_wrapper_name}
      model_kwargs: ${inputs.model_kwargs}
      score_prompt: ${inputs.score_prompt}
      file_data: ${inputs.file_data}

